package com.nike.mm.service;

import groovy.json.JsonSlurper;

import org.junit.Test

import spock.lang.Specification

import com.nike.mm.dto.HttpRequestDto
import com.nike.mm.service.impl.HttpRequestService

class HttpRequestServiceSpec extends Specification {

	@Test
	def "make sure that the Values where integrated" () {
		setup:
		String path = "/users/cwhd/repos";
		HttpRequestDto rdto = [url: "https://api.github.com", path: "/users/cwhd/repos", query:[access_token: "d23591f13c149fe29a1135f484cd28540cd3f7e4", start: 0, limit: 300]] as HttpRequestDto;
		IHttpRequestService httpRequestService = new HttpRequestService();
		
		when:
		def rjson = httpRequestService.callRestfulUrl(rdto);
		
		then:
		rjson.size() > 0;
	}
}
